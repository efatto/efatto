<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data noupdate="0">
    <record model="ir.rule" id="project.task_visibility_rule">
        <field name="name">Project/Task: employees or (followers and following)</field>
        <field name="domain_force">[
            '|',
                    ('project_id.privacy_visibility', '=', 'followers'),
                    ('project_id.message_follower_ids', 'in', [user.partner_id.id]),
                '|',
                    ('message_follower_ids', 'in', [user.partner_id.id]),
                    ('user_id', '=', user.id)
        ]</field>
    </record>
    <record model="ir.rule" id="project.project_public_members_rule">
        <field name="name">Project: employees: employees or following</field>
        <field name="domain_force">['|',
                                            ('privacy_visibility', '=', 'followers'),
                                            ('message_follower_ids', 'in', [user.partner_id.id]),
                                    ]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>
</data>
</openerp>